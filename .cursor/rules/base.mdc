---
description: 
globs: 
alwaysApply: false
---
---
description: "Reglas de arquitectura para separaci贸n por features y uso correcto de shared/lib"
globs: ["app/features/**", "app/shared/**", "lib/**", "shared/lib/**", "**/*.js", "middleware.js"]
alwaysApply: true
---

##  app/features/*

Cada feature debe estar completamente aislada y contener su propio dominio.

- Agrupar componentes, hooks, api-calls y validaciones por feature.
- Evitar importar l贸gica entre features. Usar `shared/lib` solo si es estrictamente gen茅rico.
- Si se necesita compartir algo entre features, moverlo expl铆citamente a `shared`.

---

##  app/shared/*

El c贸digo compartido debe ser at贸mico y sin dependencias de dominio.

- No incluir l贸gica de negocio en `shared`.
- Evitar acoplamiento a features o a datos de negocio.
- Organizar en subcarpetas como `ui`, `lib`, `hooks`, `schema`, etc.

---

##  lib/* o shared/lib/*

Utilidades puras, validaciones y abstracciones comunes.

- Funciones puras, sin efectos secundarios.
- Ideal para funciones de fetch, formateo, validaci贸n, etc.
- Validaciones con Zod deben estar ac谩 si son globales.

---

##  *.js

Reglas generales para mantener clean code y principios SOLID en JavaScript.

- No exceder 200 l铆neas por archivo.
- Funciones de m谩ximo 30-40 l铆neas.
- Preferir composici贸n antes que herencia.
- Usar `use` prefix en hooks (`useSomething`).
- Evitar c贸digo muerto y `console.log`s innecesarios.
- Mantener separaci贸n clara de responsabilidades (SRP).

---

##  middleware.js

Middleware debe ser simple, r谩pido y reutilizable.

- Evitar l贸gica pesada.
- Validaciones m铆nimas para redirecci贸n o auth.
- Extraer funciones auxiliares a `lib` si crecen.
